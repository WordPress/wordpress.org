!function(){"use strict";var e=window.wp.element,t=window.wp.components,n=window.wp.data,o=window.wp.date,r=window.wp.editPost,a=window.wp.i18n,i=window.wp.plugins;function l(e){let{date:t}=e;const n=(0,o.__experimentalGetSettings)();return t?(0,o.format)(`${n.formats.date} ${n.formats.time}`,t):(0,a.__)("No expiration date","wporg-learn")}const s=()=>{const o=(0,n.useSelect)((e=>e("core/editor").getEditedPostAttribute("meta")||{})),{editPost:i}=(0,n.useDispatch)("core/editor"),[s,c]=(0,e.useState)(null==o?void 0:o.expiration_date),d=(0,e.useRef)(),p=(0,e.useRef)();return(0,e.createElement)(r.PluginPostStatusInfo,null,(0,e.createElement)(t.PanelRow,{className:"edit-post-post-schedule",ref:d},(0,e.createElement)("span",null,(0,a.__)("Expiration","wporg-learn")),(0,e.createElement)(t.Dropdown,{popoverProps:{anchorRef:d.current},position:"bottom left",contentClassName:"edit-post-post-schedule__dialog",renderToggle:n=>{let{onToggle:o,isOpen:r}=n;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.Button,{className:"edit-post-post-schedule__toggle",onClick:o,"aria-expanded":r,variant:"tertiary"},(0,e.createElement)(l,{date:s})))},renderContent:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",{style:{padding:"0 16px"}},(0,a.__)("A date when the content in this post might become obsolete.","wporg-learn")),(0,e.createElement)(t.DateTimePicker,{ref:p,currentDate:s,onChange:e=>{c(e),i({meta:{...o,expiration_date:e}});const{ownerDocument:t}=p.current;t.activeElement.blur()}}))})))};(0,i.registerPlugin)("wporg-learn-expiration-date",{render:()=>(0,e.createElement)(s,null)})}();